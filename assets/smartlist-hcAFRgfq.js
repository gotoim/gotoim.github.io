import{c as g,r as l,j as e,S as z,C as ae,X as L,I as re,a as le}from"./x-CCHHPaCC.js";const ne=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],G=g("chevron-right",ne);const oe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ie=g("circle-alert",oe);const ce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],de=g("circle-check",ce);const xe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],me=g("history",xe);const ge=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],he=g("languages",ge);const pe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],O=g("layers",pe);const ue=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],q=g("loader-circle",ue);const be=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],fe=g("maximize-2",be);const ye=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],H=g("plus",ye);const je=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ne=g("share-2",je),J="AIzaSyD5ifRzw_44bgH6W-99wK1SFCzgLYPivuM",B={title:"准备就绪",subtitle:"",pages:[]},we=async(i,o)=>{let h=0;const u=`
    You are a menu translation expert. Analyze the menu image.
    Extract restaurant info and menu items.
    Translate based on: "${o||"Translate to Chinese"}".
    
    Return PURE JSON (no markdown):
    {
      "title": "Restaurant Name",
      "subtitle": "Subtitle/Year",
      "sections": [
        {
          "category": "Category Name",
          "items": [
            {
              "original": "Dish Name",
              "translated": "Translated Name",
              "price": "Price"
            }
          ]
        }
      ]
    }
  `;for(;h<=3;)try{const x=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${J}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:u},{inlineData:{mimeType:"image/jpeg",data:i}}]}],generationConfig:{responseMimeType:"application/json"}})});if(!x.ok)throw new Error(`API Error: ${x.status}`);const f=(await x.json()).candidates?.[0]?.content?.parts?.[0]?.text;if(!f)throw new Error("No content generated");return JSON.parse(f)}catch(x){if(h++,h>3)throw x;await new Promise(b=>setTimeout(b,1e3*Math.pow(2,h)))}},ve=async i=>{try{const o=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/imagen-4.0-generate-001:predict?key=${J}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({instances:[{prompt:`A delicious, high quality food photography of ${i}, restaurant style, photorealistic, 8k`}],parameters:{sampleCount:1}})});if(!o.ok)throw new Error("Image Gen Failed");return`data:image/png;base64,${(await o.json()).predictions?.[0]?.bytesBase64Encoded}`}catch(o){return console.error("Image gen error:",o),null}},ke=i=>{if(!i||!i.pages)return"";let o=`${i.title}
${i.subtitle}

`;return i.pages.forEach((r,h)=>{i.pages.length>1&&(o+=`--- Page ${h+1} ---
`),r.sections.forEach(u=>{o+=`
[${u.category}]
`,u.items.forEach(x=>{o+=`${x.translated} (${x.price})
${x.original}
`})}),o+=`
`}),o};function ze(){const[i,o]=l.useState("original"),[r,h]=l.useState([]),[u,x]=l.useState(0),[b,f]=l.useState(!1),[Y,N]=l.useState(0),[C,I]=l.useState(!1),[m,T]=l.useState(B),[$,U]=l.useState({}),[M,P]=l.useState({}),[y,E]=l.useState(""),[p,K]=l.useState(!1),[W,_]=l.useState(!1),[X,A]=l.useState(!1),[R,w]=l.useState(null),[D,Q]=l.useState([]),v=l.useRef(null),S=l.useRef(null);l.useEffect(()=>{p&&S.current&&S.current.focus()},[p]);const V=t=>{const s=Array.from(t.target.files);if(s.length>0){const n=[];let c=0;s.forEach(a=>{const d=new FileReader;d.onload=j=>{const k=j.target.result+"";n.push({id:Math.random().toString(36).substr(2,9),url:k,base64:k.split(",")[1]}),c++,c===s.length&&(h(n),x(0),I(!1),T(B),o("original"),w(null))},d.readAsDataURL(a)})}},Z=t=>{E(s=>s.includes(t)?s:`${s?s+"，":""}翻译为${t}`)},ee=async()=>{if(r.length!==0){f(!0),N(10),w(null);try{const t=r.map(a=>we(a.base64,y)),s=setInterval(()=>{N(a=>Math.min(a+5,90))},500),n=await Promise.all(t);clearInterval(s),N(100);const c={title:n[0].title||"翻译结果",subtitle:n[0].subtitle||"",pages:n.map((a,d)=>({id:r[d].id,pageNumber:d+1,sections:a.sections||[]}))};T(c),I(!0),o("translated"),Q(a=>[{id:Date.now(),title:c.title,date:"刚刚",thumbnail:r[0].url,imageCount:r.length,lang:y||"自动"},...a])}catch(t){console.error("Translation failed:",t),w("部分页面翻译失败，请检查网络或重试。")}finally{f(!1),setTimeout(()=>N(0),500)}}},F=async(t,s,n)=>{if(n.stopPropagation(),$[s]||M[s])return;P(a=>({...a,[s]:!0}));const c=await ve(t);c&&U(a=>({...a,[s]:c})),P(a=>({...a,[s]:!1}))},te=({item:t,pageIdx:s,sectionIdx:n,itemIdx:c})=>{const a=`p${s}-s${n}-i${c}`,d=!!$[a],j=!!M[a];return e.jsxs("div",{className:`
          relative border-b border-dashed border-gray-200 pb-3 transition-all duration-300
          ${d?"mt-4 bg-orange-50/50 p-3 rounded-xl border-none":""}
        `,onClick:()=>!d&&!j&&F(t.translated,a,{stopPropagation:()=>{}}),children:[e.jsxs("div",{className:"flex justify-between items-start gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`font-medium text-sm truncate ${d?"text-orange-800 font-bold":"text-gray-800"}`,children:t.translated}),!d&&e.jsx("button",{onClick:k=>F(t.translated,a,k),disabled:j,className:"text-orange-300 hover:text-orange-500 transition-colors p-1 rounded-full hover:bg-orange-100",title:"生成菜品图片",children:j?e.jsx(q,{size:12,className:"animate-spin"}):e.jsx(re,{size:12})})]}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5 truncate font-mono",children:t.original})]}),e.jsx("span",{className:"font-bold text-sm text-orange-500 whitespace-nowrap",children:t.price})]}),d&&e.jsxs("div",{className:"mt-3 relative rounded-lg overflow-hidden aspect-video shadow-sm animate-in fade-in zoom-in-95 duration-300",children:[e.jsx("img",{src:$[a],alt:t.translated,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2",children:e.jsxs("p",{className:"text-[10px] text-white/90 flex items-center gap-1",children:[e.jsx(z,{size:8})," AI生成的参考图"]})})]})]})},se=()=>W?e.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col animate-in slide-in-from-bottom-10 duration-300",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-white/90 backdrop-blur-md sticky top-0 z-10",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800 truncate max-w-[200px]",children:m.title}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{const t=ke(m);navigator.clipboard.writeText(t).then(()=>{A(!0),setTimeout(()=>A(!1),2e3)})},className:"p-2 bg-orange-50 text-orange-600 rounded-full hover:bg-orange-100",children:e.jsx(Ne,{size:20})}),e.jsx("button",{onClick:()=>_(!1),className:"p-2 bg-gray-100 text-gray-600 rounded-full hover:bg-gray-200",children:e.jsx(L,{size:20})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 bg-orange-50/30",children:e.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-6 rounded-2xl shadow-sm border border-orange-100/50 min-h-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-black text-orange-600 mb-1",children:m.title}),m.subtitle&&e.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-widest",children:m.subtitle})]}),m.pages?.map((t,s)=>e.jsxs("div",{className:"mb-10",children:[m.pages.length>1&&e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsxs("span",{className:"bg-orange-100 text-orange-600 text-xs font-bold px-2 py-1 rounded",children:["第 ",t.pageNumber," 页"]}),e.jsx("div",{className:"h-px bg-orange-100 flex-1"})]}),t.sections?.map((n,c)=>e.jsxs("div",{className:"mb-8 last:mb-0",children:[e.jsx("h3",{className:"text-base font-bold text-gray-800 border-b-2 border-orange-100 pb-1 mb-4 inline-block",children:n.category}),e.jsx("div",{className:"space-y-4",children:n.items?.map((a,d)=>e.jsx(te,{item:a,pageIdx:s,sectionIdx:c,itemIdx:d},d))})]},c))]},s)),e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-100 text-center pb-10",children:e.jsx("p",{className:"text-xs text-gray-300",children:"点击菜名可生成预览图 • Powered by GoBest AI"})})]})})]}):null;return e.jsxs("div",{className:"min-h-screen bg-[#FFF8F2] font-sans text-gray-800 relative overflow-hidden selection:bg-orange-200",children:[e.jsx("div",{className:`fixed top-6 left-1/2 transform -translate-x-1/2 z-[70] transition-all duration-300 ${X?"opacity-100 translate-y-0":"opacity-0 -translate-y-4 pointer-events-none"}`,children:e.jsxs("div",{className:"bg-black/80 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-2 backdrop-blur-md",children:[e.jsx(de,{size:18,className:"text-green-400"}),e.jsx("span",{className:"text-sm font-medium",children:"已复制"})]})}),e.jsx(se,{}),e.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-orange-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),e.jsxs("header",{className:"px-6 pt-8 pb-4 flex justify-between items-center relative z-10",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-black text-gray-900 tracking-tight",children:["GoBest ",e.jsx("span",{className:"text-orange-500",children:"Smartlist"})]}),e.jsx("p",{className:"text-xs text-gray-400 font-medium mt-0.5",children:"智能菜单翻译优化专家"})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center text-orange-500 border border-orange-100",children:e.jsx(z,{size:18})})]}),e.jsxs("main",{className:"px-4 pb-24 max-w-md mx-auto relative z-10 flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex bg-white/60 backdrop-blur-sm p-1 rounded-full self-center shadow-sm border border-white",children:[e.jsxs("button",{onClick:()=>o("original"),className:`px-6 py-1.5 rounded-full text-sm font-bold transition-all duration-300 ${i==="original"?"bg-orange-500 text-white shadow-md transform scale-105":"text-gray-400 hover:text-gray-600"}`,children:["原图 (",r.length||0,")"]}),e.jsxs("button",{onClick:()=>C&&o("translated"),disabled:!C,className:`px-6 py-1.5 rounded-full text-sm font-bold transition-all duration-300 flex items-center gap-1 ${i==="translated"?"bg-orange-500 text-white shadow-md transform scale-105":"text-gray-400"}`,children:["翻译结果",!C&&e.jsx("span",{className:"block w-1.5 h-1.5 rounded-full bg-gray-300 ml-1"})]})]}),e.jsxs("div",{className:`relative w-full aspect-[3/4] rounded-[2.5rem] bg-white shadow-xl overflow-hidden transition-all duration-500 border-4 border-white group ${i==="translated"?"ring-4 ring-orange-200":""}`,children:[i==="original"&&e.jsxs("div",{className:"w-full h-full flex flex-col relative",children:[r.length>0?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:r[u].url,alt:"Menu",className:"w-full h-full object-cover"}),r.length>1&&e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 bg-black/40 backdrop-blur-md rounded-2xl p-2 flex gap-2 overflow-x-auto no-scrollbar z-10",children:[r.map((t,s)=>e.jsx("div",{onClick:()=>x(s),className:`w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 border-2 cursor-pointer transition-all ${u===s?"border-orange-500 scale-110":"border-transparent opacity-70"}`,children:e.jsx("img",{src:t.url,className:"w-full h-full object-cover"})},t.id)),e.jsx("div",{onClick:()=>v.current.click(),className:"w-12 h-12 rounded-lg bg-white/20 flex items-center justify-center text-white cursor-pointer hover:bg-white/30 flex-shrink-0",children:e.jsx(H,{size:20})})]})]}):e.jsxs("div",{onClick:()=>v.current.click(),className:"w-full h-full flex flex-col items-center justify-center cursor-pointer hover:bg-orange-50/50 transition-colors gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-orange-100 text-orange-500 rounded-full flex items-center justify-center animate-bounce shadow-inner",children:e.jsx(ae,{size:32})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-500 font-bold text-lg",children:"点击上传菜单"}),e.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"支持多图 • JPG / PNG"})]})]}),b&&e.jsxs("div",{className:"absolute inset-0 bg-black/60 z-20 flex flex-col items-center justify-center backdrop-blur-sm",children:[e.jsx("div",{className:"w-64 h-2 bg-gray-700 rounded-full overflow-hidden mb-4",children:e.jsx("div",{className:"h-full bg-orange-500 transition-all duration-300 ease-out",style:{width:`${Y}%`}})}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-2xl flex items-center gap-3 animate-pulse",children:[e.jsx(z,{className:"text-orange-500 animate-spin-slow",size:20}),e.jsxs("span",{className:"font-bold text-gray-700",children:["AI 正在并行处理 ",r.length," 页..."]})]}),e.jsx("p",{className:"text-gray-300 text-xs mt-4",children:"多线程加速已启动"})]}),R&&e.jsxs("div",{className:"absolute inset-0 bg-black/60 z-30 flex flex-col items-center justify-center backdrop-blur-md p-6 text-center",children:[e.jsx(ie,{className:"text-red-500 mb-2",size:48}),e.jsx("p",{className:"text-white font-bold text-lg mb-1",children:"哎呀，出错了"}),e.jsx("p",{className:"text-gray-300 text-sm mb-4",children:R}),e.jsx("button",{onClick:()=>w(null),className:"px-6 py-2 bg-white text-gray-900 rounded-full font-bold text-sm hover:bg-gray-200",children:"重试"})]}),r.length===1&&!b&&e.jsx("button",{onClick:()=>v.current.click(),className:"absolute top-4 right-4 bg-black/30 hover:bg-black/50 text-white p-2 rounded-full backdrop-blur-md transition-all",children:e.jsx(O,{size:18})})]}),i==="translated"&&e.jsxs("div",{onClick:()=>_(!0),className:"w-full h-full bg-white p-6 cursor-pointer hover:bg-gray-50 transition-colors flex flex-col relative",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-b from-gray-200/50 to-transparent"}),e.jsxs("div",{className:"flex items-center justify-between mb-4 opacity-50",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-400"}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-300"})]}),e.jsx(fe,{size:16,className:"text-gray-400"})]}),e.jsxs("div",{className:"flex-1 overflow-hidden mask-image-gradient relative",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:m.title}),e.jsx("p",{className:"text-xs text-gray-400 mb-6",children:m.subtitle||"Translated Menu"}),e.jsxs("div",{className:"space-y-6 opacity-80 scale-95 origin-top",children:[m.pages?.[0]?.sections?.slice(0,1).map((t,s)=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-orange-600 uppercase tracking-wide mb-3",children:t.category}),e.jsx("div",{className:"space-y-4",children:t.items.slice(0,3).map((n,c)=>e.jsxs("div",{className:"border-b border-dashed border-gray-200 pb-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium text-sm text-gray-800 truncate w-3/4",children:n.translated}),e.jsx("span",{className:"font-bold text-sm text-orange-500",children:n.price})]}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5 truncate",children:n.original})]},c))})]},s)),e.jsx("div",{className:"text-center py-4",children:e.jsxs("span",{className:"text-xs text-gray-400 bg-gray-100 px-3 py-1 rounded-full",children:["点击查看完整 ",m.pages?.length," 页翻译..."]})})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-gradient-to-t from-white via-white to-transparent pt-12 pb-4 flex justify-center",children:e.jsxs("span",{className:"text-orange-500 text-xs font-bold flex items-center gap-1 animate-bounce",children:["点击全屏显示 ",e.jsx(G,{size:12})]})})]}),e.jsx("input",{type:"file",ref:v,className:"hidden",accept:"image/*",multiple:!0,onChange:V})]})]}),e.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-lg border border-orange-50/50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(he,{size:18,className:"text-orange-500"}),e.jsx("h3",{className:"text-sm font-bold text-gray-700",children:"翻译设置"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[["中文","English","日本語","Bahasa Ind","한국어"].map(t=>e.jsx("button",{onClick:()=>Z(t),className:"px-3 py-1.5 bg-orange-50 text-orange-600 text-xs font-bold rounded-xl hover:bg-orange-100 transition-all border border-orange-100",children:t},t)),e.jsxs("button",{onClick:()=>K(!p),className:`px-3 py-1.5 text-xs font-bold rounded-xl transition-all border border-dashed flex items-center gap-1 ${p?"bg-gray-800 text-white border-gray-800":"bg-gray-50 text-gray-400 border-gray-300 hover:border-orange-300 hover:text-orange-500"}`,children:[p?e.jsx(L,{size:12}):e.jsx(H,{size:12}),p?"收起":"自定义"]})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${p?"max-h-24 mb-4 opacity-100":"max-h-0 mb-0 opacity-0"}`,children:e.jsx("textarea",{ref:S,value:y,onChange:t=>E(t.target.value),placeholder:"输入具体要求，例如：'只翻译素食菜品'...",className:"w-full bg-gray-50 rounded-xl p-3 text-sm text-gray-700 focus:ring-2 focus:ring-orange-200 focus:outline-none resize-none h-20 border-none placeholder-gray-300"})}),!p&&y&&e.jsx("div",{className:"mb-4 px-3 py-2 bg-gray-50 rounded-lg border border-gray-100",children:e.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[e.jsx("span",{className:"font-bold",children:"要求:"})," ",y]})}),e.jsx("button",{onClick:ee,disabled:r.length===0||b,className:`w-full py-4 rounded-2xl font-black text-lg shadow-xl shadow-orange-200 flex items-center justify-center gap-2 transition-all transform active:scale-95 ${r.length===0?"bg-gray-200 text-gray-400 cursor-not-allowed shadow-none":"bg-gradient-to-r from-orange-500 to-orange-600 text-white hover:shadow-orange-300/50"}`,children:b?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"animate-spin",size:20}),"并行处理中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(z,{size:20,className:"fill-white/20"}),"开始智能翻译 (",r.length,"张)"]})})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"flex items-center justify-between px-2 mb-3",children:e.jsxs("h3",{className:"text-sm font-bold text-gray-400 flex items-center gap-2",children:[e.jsx(me,{size:14})," 历史记录"]})}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:D.length>0?D.map(t=>e.jsxs("div",{className:"bg-white p-2 pr-4 rounded-2xl shadow-sm border border-gray-50 flex items-center gap-3 hover:shadow-md transition-shadow cursor-pointer",children:[e.jsxs("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-gray-100 flex-shrink-0 border border-gray-100 relative",children:[t.thumbnail?e.jsx("img",{src:t.thumbnail,alt:"thumb",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-orange-200",children:e.jsx(O,{size:20})}),t.imageCount>1&&e.jsxs("div",{className:"absolute bottom-0 right-0 bg-black/60 text-white text-[8px] px-1 rounded-tl-lg",children:["+",t.imageCount-1]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-800 truncate",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded max-w-[100px] truncate",children:t.lang}),e.jsx("span",{className:"text-[10px] text-gray-300",children:t.date})]})]}),e.jsx(G,{size:16,className:"text-gray-300"})]},t.id)):e.jsx("div",{className:"text-center text-gray-300 text-sm py-4",children:"暂无历史记录"})})]})]}),e.jsx("style",{children:`
        @keyframes scan {
          0% { top: 0; opacity: 0; }
          10% { opacity: 1; }
          90% { opacity: 1; }
          100% { top: 100%; opacity: 0; }
        }
        .mask-image-gradient {
           mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
           -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
        }
        .animate-spin-slow {
          animation: spin 3s linear infinite;
        }
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
          display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
        }
      `})]})}le.createRoot(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(ze,{})}));
